<?php

declare(strict_types=1);

/*
 * Payrix
 *
 * This file was automatically generated by Worldpay.
 */

namespace PayrixLib\Models;

use PayrixLib\ApiHelper;
use stdClass;

class PaymentResponse implements \JsonSerializable
{
    /**
     * @var string|null
     */
    private $id;

    /**
     * @var int|null
     */
    private $method;

    /**
     * @var string|null
     */
    private $number;

    /**
     * @var string|null
     */
    private $routing;

    /**
     * @var string|BinsResponse|null
     */
    private $bin;

    /**
     * @var string|null
     */
    private $payment;

    /**
     * @var string|null
     */
    private $lastChecked;

    /**
     * @var string|null
     */
    private $last4;

    /**
     * @var array
     */
    private $mask = [];

    /**
     * @var array
     */
    private $plaidConsumerAccount = [];

    /**
     * Returns Id.
     * The ID of this resource.
     */
    public function getId(): ?string
    {
        return $this->id;
    }

    /**
     * Sets Id.
     * The ID of this resource.
     *
     * @maps id
     */
    public function setId(?string $id): void
    {
        $this->id = $id;
    }

    /**
     * Returns Method.
     * The payment method for this Transaction.
     */
    public function getMethod(): ?int
    {
        return $this->method;
    }

    /**
     * Sets Method.
     * The payment method for this Transaction.
     *
     * @maps method
     * @factory \PayrixLib\Models\PaymentMethodEnum::checkValue
     */
    public function setMethod(?int $method): void
    {
        $this->method = $method;
    }

    /**
     * Returns Number.
     * For credit payment method, the card number of the credit card associated with this Transaction.
     * For eCheck payment method, the bank account number associated with this Transaction.
     */
    public function getNumber(): ?string
    {
        return $this->number;
    }

    /**
     * Sets Number.
     * For credit payment method, the card number of the credit card associated with this Transaction.
     * For eCheck payment method, the bank account number associated with this Transaction.
     *
     * @maps number
     */
    public function setNumber(?string $number): void
    {
        $this->number = $number;
    }

    /**
     * Returns Routing.
     * The routing code for the eCheck or bank account payment associated with this Transaction.
     */
    public function getRouting(): ?string
    {
        return $this->routing;
    }

    /**
     * Sets Routing.
     * The routing code for the eCheck or bank account payment associated with this Transaction.
     *
     * @maps routing
     */
    public function setRouting(?string $routing): void
    {
        $this->routing = $routing;
    }

    /**
     * Returns Bin.
     * Bin identifier for this payment.
     *
     * @return string|BinsResponse|null
     */
    public function getBin()
    {
        return $this->bin;
    }

    /**
     * Sets Bin.
     * Bin identifier for this payment.
     *
     * @maps bin
     * @mapsBy anyOf(anyOf(string,BinsResponse),null)
     *
     * @param string|BinsResponse|null $bin
     */
    public function setBin($bin): void
    {
        $this->bin = $bin;
    }

    /**
     * Returns Payment.
     */
    public function getPayment(): ?string
    {
        return $this->payment;
    }

    /**
     * Sets Payment.
     *
     * @maps payment
     */
    public function setPayment(?string $payment): void
    {
        $this->payment = $payment;
    }

    /**
     * Returns Last Checked.
     * Times timestamp with last time payment was checked.
     */
    public function getLastChecked(): ?string
    {
        return $this->lastChecked;
    }

    /**
     * Sets Last Checked.
     * Times timestamp with last time payment was checked.
     *
     * @maps lastChecked
     */
    public function setLastChecked(?string $lastChecked): void
    {
        $this->lastChecked = $lastChecked;
    }

    /**
     * Returns Last 4.
     */
    public function getLast4(): ?string
    {
        return $this->last4;
    }

    /**
     * Sets Last 4.
     *
     * @maps last4
     */
    public function setLast4(?string $last4): void
    {
        $this->last4 = $last4;
    }

    /**
     * Returns Mask.
     */
    public function getMask(): ?string
    {
        if (count($this->mask) == 0) {
            return null;
        }
        return $this->mask['value'];
    }

    /**
     * Sets Mask.
     *
     * @maps mask
     */
    public function setMask(?string $mask): void
    {
        $this->mask['value'] = $mask;
    }

    /**
     * Unsets Mask.
     */
    public function unsetMask(): void
    {
        $this->mask = [];
    }

    /**
     * Returns Plaid Consumer Account.
     */
    public function getPlaidConsumerAccount(): ?string
    {
        if (count($this->plaidConsumerAccount) == 0) {
            return null;
        }
        return $this->plaidConsumerAccount['value'];
    }

    /**
     * Sets Plaid Consumer Account.
     *
     * @maps plaidConsumerAccount
     */
    public function setPlaidConsumerAccount(?string $plaidConsumerAccount): void
    {
        $this->plaidConsumerAccount['value'] = $plaidConsumerAccount;
    }

    /**
     * Unsets Plaid Consumer Account.
     */
    public function unsetPlaidConsumerAccount(): void
    {
        $this->plaidConsumerAccount = [];
    }

    /**
     * Converts the PaymentResponse object to a human-readable string representation.
     *
     * @return string The string representation of the PaymentResponse object.
     */
    public function __toString(): string
    {
        return ApiHelper::stringify(
            'PaymentResponse',
            [
                'id' => $this->id,
                'method' => $this->method,
                'number' => $this->number,
                'routing' => $this->routing,
                'bin' => $this->bin,
                'payment' => $this->payment,
                'lastChecked' => $this->lastChecked,
                'last4' => $this->last4,
                'mask' => $this->getMask(),
                'plaidConsumerAccount' => $this->getPlaidConsumerAccount()
            ]
        );
    }

    /**
     * Encode this object to JSON
     *
     * @param bool $asArrayWhenEmpty Whether to serialize this model as an array whenever no fields
     *        are set. (default: false)
     *
     * @return array|stdClass
     */
    #[\ReturnTypeWillChange] // @phan-suppress-current-line PhanUndeclaredClassAttribute for (php < 8.1)
    public function jsonSerialize(bool $asArrayWhenEmpty = false)
    {
        $json = [];
        if (isset($this->id)) {
            $json['id']                   = $this->id;
        }
        if (isset($this->method)) {
            $json['method']               = PaymentMethodEnum::checkValue($this->method);
        }
        if (isset($this->number)) {
            $json['number']               = $this->number;
        }
        if (isset($this->routing)) {
            $json['routing']              = $this->routing;
        }
        if (isset($this->bin)) {
            $json['bin']                  =
                ApiHelper::getJsonHelper()->verifyTypes(
                    $this->bin,
                    'anyOf(anyOf(string,BinsResponse),null)'
                );
        }
        if (isset($this->payment)) {
            $json['payment']              = $this->payment;
        }
        if (isset($this->lastChecked)) {
            $json['lastChecked']          = $this->lastChecked;
        }
        if (isset($this->last4)) {
            $json['last4']                = $this->last4;
        }
        if (!empty($this->mask)) {
            $json['mask']                 = $this->mask['value'];
        }
        if (!empty($this->plaidConsumerAccount)) {
            $json['plaidConsumerAccount'] = $this->plaidConsumerAccount['value'];
        }

        return (!$asArrayWhenEmpty && empty($json)) ? new stdClass() : $json;
    }
}
