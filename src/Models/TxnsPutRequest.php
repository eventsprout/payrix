<?php

declare(strict_types=1);

/*
 * Payrix
 *
 * This file was automatically generated by Worldpay.
 */

namespace PayrixLib\Models;

use PayrixLib\ApiHelper;
use stdClass;

class TxnsPutRequest implements \JsonSerializable
{
    /**
     * @var string|null
     */
    private $batch;

    /**
     * @var int|null
     */
    private $debtRepayment = TxnsDebtRepaymentEnum::OFF;

    /**
     * @var int|null
     */
    private $processedSequence;

    /**
     * @var int|null
     */
    private $funded;

    /**
     * @var string|null
     */
    private $returned;

    /**
     * @var int|null
     */
    private $fundingEnabled;

    /**
     * @var int|null
     */
    private $requestSequence;

    /**
     * @var string|null
     */
    private $token;

    /**
     * @var string|null
     */
    private $authTokenCustomer;

    /**
     * @var string|null
     */
    private $channel;

    /**
     * @var string|null
     */
    private $clientIp;

    /**
     * @var array
     */
    private $currency = ['value' => CurrencyEnum::USD];

    /**
     * @var int|null
     */
    private $feeConsumed;

    /**
     * @var int|null
     */
    private $signature;

    /**
     * @var string|null
     */
    private $tmxSessionId;

    /**
     * @var string|null
     */
    private $firstTxn;

    /**
     * Returns Batch.
     * If the Transaction is linked to a Batch, this field specifies the identifier of the Batch.
     */
    public function getBatch(): ?string
    {
        return $this->batch;
    }

    /**
     * Sets Batch.
     * If the Transaction is linked to a Batch, this field specifies the identifier of the Batch.
     *
     * @maps batch
     */
    public function setBatch(?string $batch): void
    {
        $this->batch = $batch;
    }

    /**
     * Returns Debt Repayment.
     * If this transaction is for debt repayment or not for debt repayment.
     *
     * <details>
     * <summary>Valid Values</summary>
     *
     * - `0` - **Transaction not for debt repayment.**
     *
     * - `1` - **Transaction for debt repayment.**
     *
     * </details>
     */
    public function getDebtRepayment(): ?int
    {
        return $this->debtRepayment;
    }

    /**
     * Sets Debt Repayment.
     * If this transaction is for debt repayment or not for debt repayment.
     *
     * <details>
     * <summary>Valid Values</summary>
     *
     * - `0` - **Transaction not for debt repayment.**
     *
     * - `1` - **Transaction for debt repayment.**
     *
     * </details>
     *
     * @maps debtRepayment
     * @factory \PayrixLib\Models\TxnsDebtRepaymentEnum::checkValue
     */
    public function setDebtRepayment(?int $debtRepayment): void
    {
        $this->debtRepayment = $debtRepayment;
    }

    /**
     * Returns Processed Sequence.
     * For entry creation and deletion job sequencing: the current processed sequence number for this
     * transaction.
     */
    public function getProcessedSequence(): ?int
    {
        return $this->processedSequence;
    }

    /**
     * Sets Processed Sequence.
     * For entry creation and deletion job sequencing: the current processed sequence number for this
     * transaction.
     *
     * @maps processedSequence
     */
    public function setProcessedSequence(?int $processedSequence): void
    {
        $this->processedSequence = $processedSequence;
    }

    /**
     * Returns Funded.
     * A date indicating when this Transaction was funded.
     * This field is set automatically.
     */
    public function getFunded(): ?int
    {
        return $this->funded;
    }

    /**
     * Sets Funded.
     * A date indicating when this Transaction was funded.
     * This field is set automatically.
     *
     * @maps funded
     */
    public function setFunded(?int $funded): void
    {
        $this->funded = $funded;
    }

    /**
     * Returns Returned.
     * The transaction has been returned by the receiver.
     */
    public function getReturned(): ?string
    {
        return $this->returned;
    }

    /**
     * Sets Returned.
     * The transaction has been returned by the receiver.
     *
     * @maps returned
     */
    public function setReturned(?string $returned): void
    {
        $this->returned = $returned;
    }

    /**
     * Returns Funding Enabled.
     * Whether or not funding is enabled for this Transaction.
     *
     * <details>
     * <summary>Valid Values</summary>
     *
     * - `0` - **Disabled.**
     *
     * - `1` - **Enabled.**
     *
     * </details>
     */
    public function getFundingEnabled(): ?int
    {
        return $this->fundingEnabled;
    }

    /**
     * Sets Funding Enabled.
     * Whether or not funding is enabled for this Transaction.
     *
     * <details>
     * <summary>Valid Values</summary>
     *
     * - `0` - **Disabled.**
     *
     * - `1` - **Enabled.**
     *
     * </details>
     *
     * @maps fundingEnabled
     * @factory \PayrixLib\Models\TxnsFundingEnabledEnum::checkValue
     */
    public function setFundingEnabled(?int $fundingEnabled): void
    {
        $this->fundingEnabled = $fundingEnabled;
    }

    /**
     * Returns Request Sequence.
     * For entry creation and deletion job sequencing: the current processed sequence number for this
     * transaction.
     */
    public function getRequestSequence(): ?int
    {
        return $this->requestSequence;
    }

    /**
     * Sets Request Sequence.
     * For entry creation and deletion job sequencing: the current processed sequence number for this
     * transaction.
     *
     * @maps requestSequence
     */
    public function setRequestSequence(?int $requestSequence): void
    {
        $this->requestSequence = $requestSequence;
    }

    /**
     * Returns Token.
     * The token of the Tokens resource this Transaction is associated with.
     */
    public function getToken(): ?string
    {
        return $this->token;
    }

    /**
     * Sets Token.
     * The token of the Tokens resource this Transaction is associated with.
     *
     * @maps token
     */
    public function setToken(?string $token): void
    {
        $this->token = $token;
    }

    /**
     * Returns Auth Token Customer.
     * The customer identifier from the AuthToken used during authentication.
     */
    public function getAuthTokenCustomer(): ?string
    {
        return $this->authTokenCustomer;
    }

    /**
     * Sets Auth Token Customer.
     * The customer identifier from the AuthToken used during authentication.
     *
     * @maps authTokenCustomer
     */
    public function setAuthTokenCustomer(?string $authTokenCustomer): void
    {
        $this->authTokenCustomer = $authTokenCustomer;
    }

    /**
     * Returns Channel.
     * This field is stored as a text string and must be between 0 and 1000 characters long.
     */
    public function getChannel(): ?string
    {
        return $this->channel;
    }

    /**
     * Sets Channel.
     * This field is stored as a text string and must be between 0 and 1000 characters long.
     *
     * @maps channel
     */
    public function setChannel(?string $channel): void
    {
        $this->channel = $channel;
    }

    /**
     * Returns Client Ip.
     * The client ip address from which the Transaction was created.
     * Valid values are any Ipv4 or Ipv6 address.
     */
    public function getClientIp(): ?string
    {
        return $this->clientIp;
    }

    /**
     * Sets Client Ip.
     * The client ip address from which the Transaction was created.
     * Valid values are any Ipv4 or Ipv6 address.
     *
     * @maps clientIp
     */
    public function setClientIp(?string $clientIp): void
    {
        $this->clientIp = $clientIp;
    }

    /**
     * Returns Currency.
     * The currency for this transaction. See <a href="https://www.iban.com/currency-codes"
     * target="_blank">Currency codes</a>  for all valid values.
     */
    public function getCurrency(): ?string
    {
        if (count($this->currency) == 0) {
            return null;
        }
        return $this->currency['value'];
    }

    /**
     * Sets Currency.
     * The currency for this transaction. See <a href="https://www.iban.com/currency-codes"
     * target="_blank">Currency codes</a>  for all valid values.
     *
     * @maps currency
     * @factory \PayrixLib\Models\CurrencyEnum::checkValue
     */
    public function setCurrency(?string $currency): void
    {
        $this->currency['value'] = $currency;
    }

    /**
     * Unsets Currency.
     * The currency for this transaction. See <a href="https://www.iban.com/currency-codes"
     * target="_blank">Currency codes</a>  for all valid values.
     */
    public function unsetCurrency(): void
    {
        $this->currency = [];
    }

    /**
     * Returns Fee Consumed.
     * When fee is set, this will track the amount of the fee that has been consumed.
     * This field is specified as an integer in cents.
     */
    public function getFeeConsumed(): ?int
    {
        return $this->feeConsumed;
    }

    /**
     * Sets Fee Consumed.
     * When fee is set, this will track the amount of the fee that has been consumed.
     * This field is specified as an integer in cents.
     *
     * @maps feeConsumed
     */
    public function setFeeConsumed(?int $feeConsumed): void
    {
        $this->feeConsumed = $feeConsumed;
    }

    /**
     * Returns Signature.
     * Whether a signature should be captured during this Transaction.
     *
     * * You can set this field if you want the terminal to take a signature for the Transaction.
     * * The API also sets this field automatically if you associate a signature to the Transaction by
     * creating a 'terminalTxnDatas' resource.
     *
     * <details>
     * <summary>Valid Values</summary>
     *
     * - `0` - **Not captured.**
     * - `1` - **Captured.**
     *
     * </details>
     */
    public function getSignature(): ?int
    {
        return $this->signature;
    }

    /**
     * Sets Signature.
     * Whether a signature should be captured during this Transaction.
     *
     * * You can set this field if you want the terminal to take a signature for the Transaction.
     * * The API also sets this field automatically if you associate a signature to the Transaction by
     * creating a 'terminalTxnDatas' resource.
     *
     * <details>
     * <summary>Valid Values</summary>
     *
     * - `0` - **Not captured.**
     * - `1` - **Captured.**
     *
     * </details>
     *
     * @maps signature
     * @factory \PayrixLib\Models\TerminalTxnsSignatureEnum::checkValue
     */
    public function setSignature(?int $signature): void
    {
        $this->signature = $signature;
    }

    /**
     * Returns Tmx Session Id.
     * Threatmetrix session ID, used to trace the financial session and prevent possible frauds.
     */
    public function getTmxSessionId(): ?string
    {
        return $this->tmxSessionId;
    }

    /**
     * Sets Tmx Session Id.
     * Threatmetrix session ID, used to trace the financial session and prevent possible frauds.
     *
     * @maps tmxSessionId
     */
    public function setTmxSessionId(?string $tmxSessionId): void
    {
        $this->tmxSessionId = $tmxSessionId;
    }

    /**
     * Returns First Txn.
     * For external recurring systems, this is the first transaction ID related to this recurring payment.
     */
    public function getFirstTxn(): ?string
    {
        return $this->firstTxn;
    }

    /**
     * Sets First Txn.
     * For external recurring systems, this is the first transaction ID related to this recurring payment.
     *
     * @maps firstTxn
     */
    public function setFirstTxn(?string $firstTxn): void
    {
        $this->firstTxn = $firstTxn;
    }

    /**
     * Converts the TxnsPutRequest object to a human-readable string representation.
     *
     * @return string The string representation of the TxnsPutRequest object.
     */
    public function __toString(): string
    {
        return ApiHelper::stringify(
            'TxnsPutRequest',
            [
                'batch' => $this->batch,
                'debtRepayment' => $this->debtRepayment,
                'processedSequence' => $this->processedSequence,
                'funded' => $this->funded,
                'returned' => $this->returned,
                'fundingEnabled' => $this->fundingEnabled,
                'requestSequence' => $this->requestSequence,
                'token' => $this->token,
                'authTokenCustomer' => $this->authTokenCustomer,
                'channel' => $this->channel,
                'clientIp' => $this->clientIp,
                'currency' => $this->getCurrency(),
                'feeConsumed' => $this->feeConsumed,
                'signature' => $this->signature,
                'tmxSessionId' => $this->tmxSessionId,
                'firstTxn' => $this->firstTxn
            ]
        );
    }

    /**
     * Encode this object to JSON
     *
     * @param bool $asArrayWhenEmpty Whether to serialize this model as an array whenever no fields
     *        are set. (default: false)
     *
     * @return array|stdClass
     */
    #[\ReturnTypeWillChange] // @phan-suppress-current-line PhanUndeclaredClassAttribute for (php < 8.1)
    public function jsonSerialize(bool $asArrayWhenEmpty = false)
    {
        $json = [];
        if (isset($this->batch)) {
            $json['batch']             = $this->batch;
        }
        if (isset($this->debtRepayment)) {
            $json['debtRepayment']     = TxnsDebtRepaymentEnum::checkValue($this->debtRepayment);
        }
        if (isset($this->processedSequence)) {
            $json['processedSequence'] = $this->processedSequence;
        }
        if (isset($this->funded)) {
            $json['funded']            = $this->funded;
        }
        if (isset($this->returned)) {
            $json['returned']          = $this->returned;
        }
        if (isset($this->fundingEnabled)) {
            $json['fundingEnabled']    = TxnsFundingEnabledEnum::checkValue($this->fundingEnabled);
        }
        if (isset($this->requestSequence)) {
            $json['requestSequence']   = $this->requestSequence;
        }
        if (isset($this->token)) {
            $json['token']             = $this->token;
        }
        if (isset($this->authTokenCustomer)) {
            $json['authTokenCustomer'] = $this->authTokenCustomer;
        }
        if (isset($this->channel)) {
            $json['channel']           = $this->channel;
        }
        if (isset($this->clientIp)) {
            $json['clientIp']          = $this->clientIp;
        }
        if (!empty($this->currency)) {
            $json['currency']          = CurrencyEnum::checkValue($this->currency['value']);
        }
        if (isset($this->feeConsumed)) {
            $json['feeConsumed']       = $this->feeConsumed;
        }
        if (isset($this->signature)) {
            $json['signature']         = TerminalTxnsSignatureEnum::checkValue($this->signature);
        }
        if (isset($this->tmxSessionId)) {
            $json['tmxSessionId']      = $this->tmxSessionId;
        }
        if (isset($this->firstTxn)) {
            $json['firstTxn']          = $this->firstTxn;
        }

        return (!$asArrayWhenEmpty && empty($json)) ? new stdClass() : $json;
    }
}
